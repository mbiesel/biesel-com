{namespace neos=Neos\Neos\ViewHelpers}
{namespace m=Neos\Media\ViewHelpers}
<f:if condition="{image}">
	<f:then>
		<f:if condition="{link}">
			<f:then>
				<a href="{link}">
					<f:render section="imageRendering" arguments="{_all}" />
				</a>
			</f:then>
			<f:else>
				<f:render section="imageRendering" arguments="{_all}" />
			</f:else>
		</f:if>
	</f:then>
	<f:else>
		<f:if condition="{neos:rendering.inEditMode()}">
			<img src="{f:uri.resource(package: 'Neos.Neos', path: 'Images/dummy-image.svg')}" title="Dummy image" alt="Dummy image" class="neos-handle" />
		</f:if>
	</f:else>
</f:if>

<f:section name="imageRendering">
    <picture>
        <source srcset="{m:uri.image(image: image, width: '1140')}" media="(min-width: 1400px)">
        <source srcset="{m:uri.image(image: image, width: '940')}" media="(min-width: 1200px)">
        <source srcset="{m:uri.image(image: image, width: '740')}" media="(min-width: 992px)">
        <source srcset="{m:uri.image(image: image, width: '640')}" media="(min-width: 480px)">
        <img srcset="{m:uri.image(image: image, width: '434')}" alt="{alternativeText}" title="{title}">
    </picture>
</f:section>